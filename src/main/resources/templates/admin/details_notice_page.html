<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
  <meta charset="UTF-8">
  <title>预约实验室信息表</title>
  <meta name="_csrf" th:content="${_csrf.token}"/>
  <meta name="_csrf_header"  th:content="${_csrf.headerName}"/>
  <link rel="stylesheet" href="../../static/layui/css/layui.css" th:href="@{/layui/css/layui.css}">
  <script src="../../static/js/jquery-3.6.0.min.js" th:src="@{/js/jquery-3.6.0.min.js}" type="text/javascript"></script>
  <script src="../../static/layui/layui.js" th:src="@{/layui/layui.js}" type="text/javascript"></script>
</head>
<style>
  body .demo-class .layui-layer-btn0{
    border-color: #E6E3E6;
    background-color: #FFF;
    color: black;
  }
  body .demo-class .layui-layer-btn1{
    border-color: #4898d5;
    background-color: #2e8ded;
    color: #fff;
  }
  body .layui-ext-myskin .layui-layer-btn0{
    　　border-color: #55ff83;
    　　background-color: #5aff53;
    　　color: #4736ff;
  }

  input:focus
  {
    background:rgba(216,54,54,0.5);
  }
</style>
<body>
<form action="" method="post" id="form1">
  <div class="layui-form-item"  style="text-align: center;">
    <div class="layui-inline" style="display: none;">
      <label class="layui-form-label">公告编号</label>
      <div class="layui-input-inline">
        <input th:value="${notice.id}" name="id" disabled required lay-verify="required"  autocomplete="on" class="layui-input">
      </div>
    </div>
    <!--    <div class="layui-form-mid layui-word-aux">辅助文字</div>-->

    <div class="layui-inline">
      <label class="layui-form-label">公告标题</label>
      <div class="layui-input-inline">
        <input th:value="${notice.getTitle()}" name="title" disabled required lay-verify="required"  autocomplete="on" class="layui-input">
      </div>
    </div>
    <!--    <div class="layui-form-mid layui-word-aux">辅助文字</div>-->

    <div class="layui-inline">
      <label class="layui-form-label">公告发布人</label>
      <div class="layui-input-inline">
        <input th:value="${notice.adminUsername}" name="adminUsername" disabled required lay-verify="required"  autocomplete="on" class="layui-input">
      </div>
    </div>
<!--        <div class="layui-form-mid layui-word-aux">辅助文字</div>-->

    <div class="layui-inline">
      <label class="layui-form-label">是否显示</label>
      <div class="layui-input-inline">
        <div th:if="${notice.display}==1">
          <input value="已显示" name="display" disabled required lay-verify="required"  autocomplete="on" class="layui-input">
        </div>
        <div  th:if="${notice.display}==0">
          <input value="未显示" name="display" disabled required lay-verify="required"  autocomplete="on" class="layui-input">
        </div>
<!--        <input th:value="${notice.category}" name="category" disabled required lay-verify="required"  autocomplete="on" class="layui-input">-->
      </div>
    </div>

    <div class="layui-inline input-focus">
      <label class="layui-form-label input-focus">发布时间</label>
      <div class="layui-input-inline">
        <input th:value="${notice.time}" name="time" disabled required lay-verify="required"  autocomplete="on" class="layui-input">
      </div>
    </div>
    <!--    <div class="layui-form-mid layui-word-aux">辅助文字</div>-->

<!--    <div class="layui-inline" style="visibility:hidden;" >-->
<!--      <label class="layui-form-label">实验室编号</label>-->
<!--      <div class="layui-input-inline">-->
<!--        <input  th:value="${..labid}" name="labid" class="layui-input" readonly lay-verify="required|date" type="data" placeholder="预约时间"  >-->
<!--      </div>-->
<!--    </div>-->
    <!--                <div class="layui-form-mid layui-word-aux">辅助文字</div>-->
  </div>

  <div class="" style="text-align: center; ">
    <h2 >公告内容</h2>
    <div id="content" style="overflow-y:auto;height:200px;padding:10px;border: 1px silver solid; margin: 0 auto;width: 78%;text-align: left;"
       th:utext="${notice.getContent()}" th:name="content"></div>
  </div>
  <div style="width: 78%;margin:0 auto;margin-top: 15px;">
    <div style="display: inline-block;float: right">
<!--      <button onclick="addReserve();" id="reserve-btn" type="button" class="layui-btn layui-btn-normal" >修改</button>-->
      <button onclick="closeIfame();" type="" class="layui-btn ">关闭</button>
    </div>
  </div>
</form>
<!--<div class="layui-input-inline">-->
<!--    <input id="reserve-date" th:value="${reserve}" name="reserve" class="layui-input" readonly lay-verify="required|date" type="data" placeholder="预约时间"  >-->
<!--</div>-->
<!--<div class="layui-input-inline">-->
<!--    <input id="reserve-date" th:value="${reserve}" name="reserve" class="layui-input" readonly lay-verify="required|date" type="data" placeholder="预约时间"  >-->
<!--</div>-->
<!--<div class="layui-input-inline">-->
<!--    <input id="reserve-date" th:value="${reserve}" name="reserve" class="layui-input" readonly lay-verify="required|date" type="data" placeholder="预约时间"  >-->
<!--</div>-->
<!--<button onclick="getParam();">sss</button>-->

</body>

<script type="text/javascript">
  function addReserve() {
    console.log("sss");
    $('input').attr("disabled",false);
    $('input').removeAttr("disabled");
    $('#content').innerText="sssssssssss";
    // $('input').attr("disabled","");
    // var data = $("form").serialize();
    // console.log(data);
    // var header = $("meta[name='_csrf_header']").attr("content");
    // var token = $("meta[name='_csrf']").attr("content");
    // $.ajax({
    //   url: '/student/addReserve?',
    //   type: 'POST',
    //   async: false,
    //   contentType: 'application/x-www-form-urlencoded;charset=UTF-8',
    //   data:data,
    //   dataType: 'json',
    //   beforeSend: function (xhr) {
    //     xhr.setRequestHeader(header, token);
    //
    //   },
    //   success: function (data) {
    //     console.log(data.labid);
    //     inputNull(data.labid);
    //     alert("预约成功");
    //     closeIfame();
    //   }
    // })
  }
</script>
<script type="text/javascript">

  //日期插件
  // layui.use('laydate', function() {
  //   var reserveTimeList=document.getElementById("reserveTimeList");
  //   // console.log(reserveTimeList.innerText);
  //   var markJson = new Function("return" + reserveTimeList.innerText)();//转换后的JSON对象
  //   console.log(markJson);
  //   function disabled_date() {
  //     if (markJson != null) {
  //       for (var key in markJson) {
  //         var dates = key.split("-");
  //         // dates[1] = dates[1] * 1;
  //         var mm = dates[0] + '-' + parseInt(dates[1]) + '-' + parseInt(dates[2]);
  //         console.log(mm);
  //         $('.laydate-theme-grid table tbody').find('[lay-ymd="' + mm + '"]').addClass('laydate-disabled');
  //         // keys.push(key);
  //       }
  //     }
  //
  //   }
  //
  //   var laydate = layui.laydate;
  //   laydate.render({
  //     elem: '#reserve-date',
  //     min: 1,
  //     trigger: 'click',
  //     theme: 'grid',
  //     showBottom: false,
  //     ready: function (value) {//控件在打开时触发，回调返回一个参数
  //       disabled_date(); //得到初始的日期时间对象：{year: 2017, month: 8, date: 18, hours: 0, minutes: 0, seconds: 0}
  //     },
  //     change: function (value, date) { //监听日期被切换
  //       disabled_date();
  //       //执行函数
  //     }
  //   });
  // })

  //关闭弹窗
  function closeIfame() {
    //使用data获取传送过的obj参数
    //在子页面关闭弹出层
    var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引
    parent.layer.close(index); //再执行关闭
  }

  // layui.use("layer", function () {
  //     var layer = layui.layer;
  //     $("#reserve-btn").click(function () {
  //         layer.open({
  //             type: 3,
  //             // area: ['100%', '100%']
  //         });
  //     });
  // });

  //判断表单input是否有空值
  // $(document).ready(function(){
  //     $("form").submit(function(e) {
  function inputNull (labid){
    if (labid==1) {
      var ref = $("form").find("[required=required]");
      // alert('ref');
      $(ref).each(function () {
        if ($(this).val() == '') {
          // alert("Required field should not be blank.");
          $(this).focus();
          e.preventDefault();
          return false;
        }
      });
    }
  }
  //         return true;
  //     });
  // });
</script>

</html>
