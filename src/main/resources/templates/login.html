<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>用户登录界面</title>
    <link th:href="@{/login/css/bootstrap.min.css}" href="../static/login/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/login/css/signin.css}" href="../static/login/css/signin.css" rel="stylesheet">
<!--    <link th:href="@{/bootstrap/select/bootstrap-select.min.css}" href="../static/bootstrap/select/bootstrap-select.min.css" rel="stylesheet">-->
<!--    <link th:href="@{/bootstrap/select/bootstrap-select.min.css}" href="../static/bootstrap/select/bootstrap-select.min.css" rel="stylesheet">-->
<!--    <script type="text/javascript" src="{../static/bootstrap/select/bootstrap-select.min.js}" th:src="@{/bootstrap/select/bootstrap-select.min.js}" ></script>-->
    <link rel="stylesheet" href="../static/layui/css/layui.css" th:href="@{/layui/css/layui.css}">
    <script src="../static/js/jquery-3.6.0.min.js" th:src="@{/js/jquery-3.6.0.min.js}" type="text/javascript"></script>
    <script th:src="@{/layui/layui.js}" src="../static/layui/layui.js"  type="text/javascript"></script>
    <style type="text/css">
        /*select{*/
        /*    text-align: center;*/
        /*}*/
        /*select option{*/
        /*    background:#f5f5f5;*/
        /*}*/
        /*select option:hover{*/
        /*    background: #00FF00;*/
        /*}*/
    </style>
    <script type="text/javascript">
        // 防止表单多次提交
        //默认提交状态为false
        var commitStatus = false;
        function dosubmit(){
            if(commitStatus==false){
                //提交表单后，讲提交状态改为true
                commitStatus = true;
                return true;
            }else{
                return false;
            }
        }


    </script>
</head>
<body>
<form class="form-signin" th:action="@{/userLogin}" th:method="post" onsubmit="return dosubmit()">
<!--    <img class="mb-4" th:src="@{/login/img/login.jpg}" width="72px" height="72px">-->
    <h1 class="h3 mb-3 font-weight-normal" style="text-align:center;">实验室管理系统</h1>
    <!-- 用户登录错误信息提示框 -->
<!--    <div th:if="${param.error}" style="color: red;height: 40px;text-align: left;font-size: 1.1em">-->
<!--        <img th:src="@{/login/img/loginError.jpg}" width="20px">-->
        <span th:text="${session?.SPRING_SECURITY_LAST_EXCEPTION?.message}"></span>
<!--    </div>-->

    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
<!--    <select  class="selectpicker form-control" data-style="btn-info"  style="padding: 0px;">-->
<!--        <option value="1" >学生</option>-->
<!--        <option value="2">教师</option>-->
<!--        <option value="0">管理员</option>-->
<!--    </select>-->

    <div class="container">
        <div class="row">
            <label  class="col-md-4">
                <input type="radio" name="usertype" value="2" checked="">&nbsp;学生
            </label>
            <label class="col-md-4">
                <input type="radio" name="usertype" value="1">&nbsp;教师
            </label>
            <label class="col-md-4">
                <input type="radio" name="usertype" value="0">&nbsp;管理员
            </label>
        </div>

<!--            <input type="radio" name="usertype" value="2">学生-->
<!--            <input type="radio" name="usertype" value="1">老师-->
<!--            <input type="radio" name="usertype" value="0">管理员-->
    </div>

    <input type="text" name="username" class="form-control" placeholder="用户名"
           oninvalid="setCustomValidity('请输入用户名.')" autofocus="">
    <input type="password" name="password" class="form-control" placeholder="密码"
           required="" oninvalid="setCustomValidity('请输入密码.')"  autofocus="">
<!--    <div class="checkbox mb-3">-->
<!--        <label>-->
<!--            <input type="checkbox" name="rememberme"> 七天免密登录-->
<!--        </label>-->
<!--    </div>-->
    <button id="btn" class="btn btn-lg btn-primary btn-block" type="submit" >登录</button>
    <br><a th:href="@{/reisterPage}" style="font-size: 12px;">忘记密码，找回密码</a>
</form>
<script type="text/javascript">
    layui.use("layer", function () {
        var layer = layui.layer;
        $("#btn").click(function () {
            layer.open({
                type: 3,
                // area: ['100%', '100%']
            });
        });
    });
</script>

</body>
</html>
